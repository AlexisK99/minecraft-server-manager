(this.webpackJsonpminecraftservermanager=this.webpackJsonpminecraftservermanager||[]).push([[0],{135:function(e,t,a){e.exports=a(163)},140:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),o=a.n(l),i=(a(140),a(14)),c=a(15),s=a(6),u=a(17),m=a(16),p=a(11),d=a.n(p),f=a(123),h=a(226),E=a(229),v=a(228),g=a(227),b=a(232),y=(a(35),a(210)),k=a(211),O=a(209),C=a(212),S=a(233),M=a(54),j=a(87),P=a.n(j),D=a(41),w=a.n(D),I=a(74),A=a.n(I),W={container:{margin:10,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:"0.95rem"}};var R=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"minecraftEulaAcceptedStatus",value:function(){var e=this.props.minecraftProperties;return e&&e.acceptedEula?r.a.createElement("div",null,r.a.createElement(S.a,{title:"Accepted"},r.a.createElement(P.a,null))):r.a.createElement("div",null,r.a.createElement(S.a,{title:"Not accepted"},r.a.createElement(w.a,null)))}},{key:"minecraftOnline",value:function(){var e=this.props.minecraftProperties;return e&&e.started?r.a.createElement("div",null,r.a.createElement(S.a,{title:"Running"},r.a.createElement(P.a,null))):r.a.createElement("div",null,r.a.createElement(S.a,{title:"Minecraft is not running"},r.a.createElement(w.a,null)))}},{key:"minecraftUpdate",value:function(){var e=this.props.minecraftProperties;return e&&e.updateAvailable?r.a.createElement("div",null,r.a.createElement(S.a,{title:"Update Available"},r.a.createElement(A.a,null))):r.a.createElement("div",null)}},{key:"minecraftVersion",value:function(){var e=this.props.minecraftProperties;return e&&e.detectedVersion&&e.detectedVersion.major?r.a.createElement(O.a,null,r.a.createElement(M.a,null,e.detectedVersion.major+"."+e.detectedVersion.minor+"."+e.detectedVersion.release)):r.a.createElement(O.a,null)}},{key:"minecraftUptime",value:function(){var e=this.props.minecraftProperties,t=Date.now(),a=0;return e&&e.started&&e.startTime>0?(a=(t-e.startTime)/1e3,r.a.createElement(O.a,null,r.a.createElement(M.a,null,function(e){var t=Math.floor(e/3600),a=Math.floor(e%3600/60),n=Math.floor(e%60);return[t,a>9?a:"0"+a,n>9?n:"0"+n].filter((function(e){return e})).join(":")}(a)))):r.a.createElement(O.a,null)}},{key:"render",value:function(){return r.a.createElement("div",{style:W.container},r.a.createElement(M.a,{variant:"subtitle1"},"Server Information"),r.a.createElement(y.a,{size:"small"},r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"Minecraft Status")),r.a.createElement(O.a,null,this.minecraftOnline()),r.a.createElement(O.a,null,this.minecraftUpdate())),r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"EULA Accepted")),r.a.createElement(O.a,null,this.minecraftEulaAcceptedStatus()),r.a.createElement(O.a,null)),r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"Minecraft Version")),this.minecraftVersion(),r.a.createElement(O.a,null)),r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"Server Address")),r.a.createElement(O.a,null,r.a.createElement(M.a,null,this.props.ipInfo.address?this.props.ipInfo.address+":"+this.props.ipInfo.port:"Not known.")),r.a.createElement(O.a,null)),r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"Server Uptime")),this.minecraftUptime(),r.a.createElement(O.a,null)))))}}]),a}(r.a.Component),T=a(213),V=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.player||{};return r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,null,e.name)))}}]),a}(r.a.Component),B={container:{margin:10,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:"0.95rem"}},N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"displayPlayerListItems",value:function(e){if(e.online)return r.a.createElement(V,{key:e.key,player:e})}},{key:"render",value:function(){var e=this.props.minecraftProperties.playerInfo,t=[],a="";return e&&(t=e.players,a=e.summary),r.a.createElement("div",{style:B.container},r.a.createElement(M.a,{variant:"subtitle1"},"Connected Players"),r.a.createElement(y.a,{size:"small"},r.a.createElement(T.a,null,r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},a||"Waiting on Minecraft server..."))))),r.a.createElement(y.a,null,r.a.createElement(k.a,null,t.map(this.displayPlayerListItems))))}}]),a}(r.a.Component),U={container:{margin:10,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:"0.95rem"}},F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:U.container},r.a.createElement(R,{ipInfo:this.props.ipInfo,minecraftProperties:this.props.minecraftProperties}),r.a.createElement(N,{minecraftProperties:this.props.minecraftProperties}))}}]),a}(r.a.Component),L=a(214),z=a(111),H=a.n(z),Y=a(112),J=a.n(Y),x=a(80),K=a.n(x),q=a(88),G=a.n(q);function $(e){return r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,null,e.player.name)),r.a.createElement(O.a,null,e.player.online?r.a.createElement(S.a,{title:"Online"},r.a.createElement(H.a,null)):r.a.createElement(S.a,{title:"Offline"},r.a.createElement(J.a,null)),e.player.opped?r.a.createElement(S.a,{title:"Opped"},r.a.createElement(K.a,null)):r.a.createElement("span",null),e.player.banned?r.a.createElement(S.a,{title:"Banned"},r.a.createElement(w.a,null)):r.a.createElement("span",null),e.player.whitelisted?r.a.createElement(S.a,{title:"Whitelisted"},r.a.createElement(G.a,null)):r.a.createElement("span",null)),r.a.createElement(O.a,null,e.player.banned?r.a.createElement(L.a,{onClick:function(){e.pardonPlayer(e.player.name)}},r.a.createElement(S.a,{title:"Pardon"},r.a.createElement(w.a,null))):r.a.createElement(L.a,{onClick:function(){e.banPlayer(e.player.name)}},r.a.createElement(S.a,{title:"Ban"},r.a.createElement(w.a,null))),r.a.createElement(L.a,{onClick:function(){e.kickPlayer(e.player.name)}},r.a.createElement(S.a,{title:"Kick"},r.a.createElement(w.a,null))),e.player.opped?r.a.createElement(L.a,{onClick:function(){e.deopPlayer(e.player.name)}},r.a.createElement(S.a,{title:"De Op"},r.a.createElement(K.a,null))):r.a.createElement(L.a,{onClick:function(){e.opPlayer(e.player.name)}},r.a.createElement(S.a,{title:"Op"},r.a.createElement(K.a,null))),e.player.whitelisted?r.a.createElement("div",null):r.a.createElement(L.a,{onClick:function(){e.whitelistPlayer(e.player.name)}},r.a.createElement(S.a,{title:"Whitelist"},r.a.createElement(G.a,null)))))}var _={container:{margin:10,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:"0.95rem"}},Q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).banPlayer=n.banPlayer.bind(Object(s.a)(n)),n.deopPlayer=n.deopPlayer.bind(Object(s.a)(n)),n.displayPlayerListItems=n.displayPlayerListItems.bind(Object(s.a)(n)),n.kickPlayer=n.kickPlayer.bind(Object(s.a)(n)),n.opPlayer=n.opPlayer.bind(Object(s.a)(n)),n.pardonPlayer=n.pardonPlayer.bind(Object(s.a)(n)),n.whitelistPlayer=n.whitelistPlayer.bind(Object(s.a)(n)),n}return Object(c.a)(a,[{key:"banPlayer",value:function(e){var t=!1;this.props.minecraftProperties.playerInfo.players.forEach((function(a){a.name===e&&(t=!0)})),t&&d()({method:"post",url:"/api/command",params:{command:"/ban "+e}}).then((function(){}),(function(e){console.log("An error occurred contacting the Minecraft server.",e)}))}},{key:"pardonPlayer",value:function(e){var t=!1;this.props.minecraftProperties.playerInfo.players.forEach((function(a){a.name===e&&(t=!0)})),t&&d()({method:"post",url:"/api/command",params:{command:"/pardon "+e}}).then((function(){}),(function(e){console.log("An error occurred contacting the Minecraft server.",e)}))}},{key:"kickPlayer",value:function(e){var t=!1;this.props.minecraftProperties.playerInfo.players.forEach((function(a){a.name===e&&(t=!0)})),t&&d()({method:"post",url:"/api/command",params:{command:"/kick "+e}}).then((function(){}),(function(e){console.log("An error occurred contacting the Minecraft server.",e)}))}},{key:"opPlayer",value:function(e){var t=!1;this.props.minecraftProperties.playerInfo.players.forEach((function(a){a.name===e&&(t=!0)})),t&&d()({method:"post",url:"/api/command",params:{command:"/op "+e}}).then((function(){}),(function(e){console.log("An error occurred contacting the Minecraft server.",e)}))}},{key:"deopPlayer",value:function(e){var t=!1;this.props.minecraftProperties.playerInfo.players.forEach((function(a){a.name===e&&(t=!0)})),t&&d()({method:"post",url:"/api/command",params:{command:"/deop "+e}}).then((function(){}),(function(e){console.log("An error occurred contacting the Minecraft server.",e)}))}},{key:"whitelistPlayer",value:function(e){var t=!1;this.props.minecraftProperties.playerInfo.players.forEach((function(a){a.name===e&&(t=!0)})),t&&d()({method:"post",url:"/api/command",params:{command:"/whitelist "+e}}).then((function(){}),(function(e){console.log("An error occurred contacting the Minecraft server.",e)}))}},{key:"displayPlayerListItems",value:function(e){return r.a.createElement($,{key:e.key,player:e,banPlayer:this.banPlayer,pardonPlayer:this.pardonPlayer,kickPlayer:this.kickPlayer,opPlayer:this.opPlayer,deopPlayer:this.deopPlayer,whitelistPlayer:this.whitelistPlayer})}},{key:"render",value:function(){var e=this.props.minecraftProperties.playerInfo,t=[],a="";return e&&e.players&&(a=e.summary,t=e.players),r.a.createElement("div",{style:_.container},r.a.createElement(M.a,{variant:"subtitle1"},a||"Waiting on Minecraft server..."),r.a.createElement(y.a,null,r.a.createElement(T.a,null,r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"Player")),r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"Status")),r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"Actions")))),r.a.createElement(k.a,null,t.map(this.displayPlayerListItems))))}}]),a}(r.a.Component),X=a(113),Z=a(219),ee=a(220),te=a(118),ae=a.n(te),ne=a(170),re=a(116),le=a.n(re),oe=a(117),ie=a.n(oe),ce=a(56),se=a(234),ue=a(218),me=a(216),pe=a(217),de=a(215);function fe(e){var t=e.onClose,a=Object(ce.a)(e,["onClose"]);return r.a.createElement(se.a,a,r.a.createElement(de.a,null,"Please Wait"),r.a.createElement(me.a,null,r.a.createElement(pe.a,null,"Requested action in progress...")),r.a.createElement(ue.a,null,r.a.createElement(Z.a,{onClick:t,variant:"contained",color:"primary",autoFocus:!0},"Close")))}function he(e){var t=e.detectedVersion,a=e.selectedVersionToInstall,n=e.onNo,l=e.onYes,o=Object(ce.a)(e,["detectedVersion","selectedVersionToInstall","onNo","onYes"]),i="";return t&&t.full&&(i=t.full),r.a.createElement(se.a,o,r.a.createElement(de.a,null,"Confirm Version Change"),r.a.createElement(me.a,null,r.a.createElement(pe.a,null,"The current running version is ",i,", but the selected version is ",a?a.full:"unknown",". Changing to a lower version may delete the current world."),r.a.createElement(pe.a,null,"Continue?")),r.a.createElement(ue.a,null,r.a.createElement(Z.a,{onClick:n,color:"primary",variant:"contained",autoFocus:!0},"No"),r.a.createElement(Z.a,{onClick:l,color:"primary",variant:"contained"},"Yes")))}var Ee=a(53),ve=a(165),ge=a(166),be=a(171),ye=a(114),ke=a.n(ye),Oe=a(77),Ce=a.n(Oe),Se=a(115),Me=a.n(Se);function je(e){var t=e.onNo,a=e.onYes,n=Object(ce.a)(e,["onNo","onYes"]);return r.a.createElement(se.a,n,r.a.createElement(de.a,null,"Confirm Minecraft Restart"),r.a.createElement(me.a,null,r.a.createElement(pe.a,null,"Saving new properties will restart the Minecraft server."),r.a.createElement(pe.a,null,"Continue?")),r.a.createElement(ue.a,null,r.a.createElement(Z.a,{onClick:t,color:"primary",variant:"contained",autoFocus:!0},"No"),r.a.createElement(Z.a,{onClick:a,color:"primary",variant:"contained"},"Yes")))}function Pe(e){var t=Object.assign([],e.minecraftProperties.serverProperties),a=Object(n.useState)(!1),l=Object(Ee.a)(a,2),o=l[0],i=l[1],c=Object(n.useState)(!1),s=Object(Ee.a)(c,2),u=s[0],m=s[1],p=Object(n.useState)(!1),f=Object(Ee.a)(p,2),h=f[0],E=f[1],v=Object(n.useState)(e.minecraftProperties.serverProperties),g=Object(Ee.a)(v,2),b=g[0],S=g[1],j=function(){m(!0)},P=function(){E(!1)},D=function(){j(),d()({method:"get",url:"/api/refreshServerProperties"}).then((function(e){S(e.data.properties),t=Object.assign({},e.data.properties),i(!1),m(!1)}),(function(e){console.log("An error occurred contacting the Minecraft server.",e),m(!1)}))},w=function(e){for(var t,a=Object.assign([],b),n=!1,r=0;r<a.length;r++)if((t=a[r]).name===e.target.id){t.value!==e.target.value&&(t.value=e.target.value,n=!0);break}n&&(S(a),i(!0))};return r.a.createElement("div",null,r.a.createElement(fe,{open:u,onClose:function(){m(!1)}}),r.a.createElement(je,{open:h,onNo:P,onYes:function(){P(),j();var e=JSON.stringify(b);d()({method:"post",url:"/api/saveMinecraftProperties",params:{newProperties:e}}).then((function(){D()}),(function(e){console.log("An error occurred contacting the Minecraft server.",e),D()}))}}),r.a.createElement(M.a,{variant:"subtitle1"},"Server Properties"),r.a.createElement(M.a,null,"Change Minecraft server properties. When finished, click ",r.a.createElement("strong",null,"Save"),".\xa0",r.a.createElement(M.a,{variant:"caption"},"(Saving changes will require a Minecraft restart.)")),r.a.createElement(M.a,null,r.a.createElement("strong",null,"Undo")," will reset all fields to the current running settings."),r.a.createElement(M.a,null,r.a.createElement("strong",null,"Refresh")," reads current values from the Minecraft server files."),r.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:D},r.a.createElement(ke.a,null),"Refresh"),r.a.createElement(Z.a,{disabled:!o,variant:"contained",color:"primary",onClick:function(){E(!0)}},r.a.createElement(Ce.a,null),"Save"),r.a.createElement(Z.a,{disabled:!o,variant:"contained",color:"primary",onClick:function(){S(t),i(!1)}},r.a.createElement(Me.a,null),"Undo"),r.a.createElement("div",{style:{maxHeight:"100vh",overflow:"auto"}},r.a.createElement(y.a,{size:"small"},r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(O.a,null)),b&&b.length?b.map((function(e){return r.a.createElement(C.a,{key:e.name},r.a.createElement(O.a,null,r.a.createElement(ve.a,{fullWidth:!0},r.a.createElement(be.a,{htmlFor:"{ property.name }"},e.name),r.a.createElement(ge.a,{id:e.name,value:e.value,fullWidth:!0,onChange:w,onKeyPress:w}))))})):r.a.createElement(C.a,null,r.a.createElement(O.a,null,"Waiting on Minecraft server..."))))))}var De={container:{margin:10,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:"0.95rem"}},we=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(i.a)(this,a),n=t.call(this,e);var r=e.minecraftProperties.detectedVersion;return r&&r.full||(r={full:"latest"}),n.state={progressDialogOpen:!1,versionDialogOpen:!1,versionToInstall:r},n.checkVersionToInstall=n.checkVersionToInstall.bind(Object(s.a)(n)),n.closeProgressDialog=n.closeProgressDialog.bind(Object(s.a)(n)),n.closeVersionDialog=n.closeVersionDialog.bind(Object(s.a)(n)),n.handleVersionConfirmation=n.handleVersionConfirmation.bind(Object(s.a)(n)),n.openProgressDialog=n.openProgressDialog.bind(Object(s.a)(n)),n.installMinecraft=n.installMinecraft.bind(Object(s.a)(n)),n.restartMinecraft=n.restartMinecraft.bind(Object(s.a)(n)),n.selectVersionToInstall=n.selectVersionToInstall.bind(Object(s.a)(n)),n.startMinecraft=n.startMinecraft.bind(Object(s.a)(n)),n.stopMinecraft=n.stopMinecraft.bind(Object(s.a)(n)),n}return Object(c.a)(a,[{key:"openProgressDialog",value:function(){this.setState({progressDialogOpen:!0})}},{key:"closeProgressDialog",value:function(){this.setState({progressDialogOpen:!1})}},{key:"closeVersionDialog",value:function(){this.setState({versionToInstall:this.props.minecraftProperties.detectedVersion}),this.setState({versionDialogOpen:!1})}},{key:"checkVersionToInstall",value:function(){this.props.minecraftProperties.detectedVersion.full&&this.state.versionToInstall.full!==this.props.minecraftProperties.detectedVersion.full?this.setState({versionDialogOpen:!0}):this.installMinecraft()}},{key:"displayReleaseVersions",value:function(e){return r.a.createElement(ee.a,{key:e.id,value:e.id},e.id)}},{key:"handleAcceptEula",value:function(){d()({method:"post",url:"/api/acceptEula"}).catch((function(e){console.log("An error occurred accepting the EULA:",e)}))}},{key:"handleVersionConfirmation",value:function(e){e&&"string"===typeof e&&this.setState({versionToInstall:{full:e}}),this.setState({versionDialogOpen:!1}),this.installMinecraft()}},{key:"installMinecraft",value:function(){var e=this;this.setState({progressDialogOpen:!0}),d()({method:"post",url:"/api/install",params:{version:this.state.versionToInstall.full}}).then((function(){e.props.startMinecraftStatus(),e.setState({progressDialogOpen:!1}),e.selectVersionToInstall({target:{value:e.props.minecraftProperties.detectedVersion}})}),(function(e){console.log("An error occurred contacting the Minecraft server.",e)}))}},{key:"restartMinecraft",value:function(){var e=this;this.setState({progressDialogOpen:!0}),d()({method:"post",url:"/api/restart"}).then((function(){e.props.startMinecraftStatus(),e.setState({progressDialogOpen:!1})}),(function(e){console.log("An error occurred contacting the Minecraft server.",e)}))}},{key:"selectVersionToInstall",value:function(e){var t=this.props.minecraftProperties,a={},n="";if(t.versions&&(a=t.versions.release),a&&a.length){var r,l=Object(X.a)(a);try{for(l.s();!(r=l.n()).done;){var o=r.value;if(o.id===e.target.value){n={full:o.id};break}}}catch(i){l.e(i)}finally{l.f()}n||(n={full:"latest"}),this.setState({versionToInstall:n})}}},{key:"startMinecraft",value:function(){var e=this;this.setState({progressDialogOpen:!0}),d()({method:"post",url:"/api/start"}).then((function(){e.props.startMinecraftStatus(),e.setState({progressDialogOpen:!1})}),(function(e){console.log("An error occurred contacting the Minecraft server.",e)}))}},{key:"stopMinecraft",value:function(){var e=this;this.setState({progressDialogOpen:!0}),d()({method:"post",url:"/api/stop"}).then((function(){e.setState({progressDialogOpen:!1})}),(function(e){console.log("An error occurred contacting the Minecraft server.",e)}))}},{key:"render",value:function(){var e=this.props.minecraftProperties;return r.a.createElement("div",{style:De.container},r.a.createElement(fe,{open:this.state.progressDialogOpen,onClose:this.closeProgressDialog}),r.a.createElement(he,{open:this.state.versionDialogOpen,onNo:this.closeVersionDialog,onYes:this.handleVersionConfirmation,detectedVersion:e.detectedVersion,selectedVersionToInstall:this.state.versionToInstall}),r.a.createElement(M.a,{variant:"subtitle1"},"Server Controls"),r.a.createElement(y.a,null,r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(Z.a,{onClick:this.startMinecraft,disabled:!e.settings.javaHome||!e.settings.javaPath||e.started,variant:"contained",color:"primary"},r.a.createElement(le.a,null),"Start"),r.a.createElement(Z.a,{onClick:this.stopMinecraft,disabled:!e.started,variant:"contained",color:"primary"},r.a.createElement(ie.a,null),"Stop"),r.a.createElement(Z.a,{onClick:this.restartMinecraft,disabled:!e.started,variant:"contained",color:"primary"},r.a.createElement(ae.a,null),"Restart")),r.a.createElement(O.a,null,r.a.createElement(Z.a,{onClick:this.checkVersionToInstall,variant:"contained",color:"primary"},"Install"),r.a.createElement(ne.a,{value:this.state.versionToInstall.full,onChange:this.selectVersionToInstall},r.a.createElement(ee.a,{key:"latest",value:"latest"},r.a.createElement("em",null,"latest")),e.versions&&e.versions.release?e.versions.release.map(this.displayReleaseVersions):r.a.createElement("div",null))),r.a.createElement(O.a,null,r.a.createElement(Z.a,{onClick:this.handleAcceptEula,disabled:!e.installed||e.acceptedEula,variant:"contained",color:"primary"},"Accept EULA")),r.a.createElement(O.a,null,e.updateAvailable?r.a.createElement(S.a,{title:"Update Available"},r.a.createElement(Z.a,null,r.a.createElement(A.a,null))):r.a.createElement("div",null),r.a.createElement(Z.a,{disabled:!0,variant:"contained",color:"primary"},"Check for updates"))))),r.a.createElement(Pe,{minecraftProperties:e}))}}]),a}(r.a.Component),Ie=a(120),Ae=a.n(Ie),We=a(223),Re=a(78),Te=a.n(Re),Ve=a(122),Be=a.n(Ve),Ne=a(121),Ue=a.n(Ne),Fe=a(224),Le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(se.a,{open:this.props.open},r.a.createElement(me.a,null,r.a.createElement(pe.a,null,"Would you like to backup the world first?")),r.a.createElement(ue.a,null,r.a.createElement(Z.a,{onClick:this.props.cancelDialog,color:"primary"},"Cancel"),r.a.createElement(Z.a,{onClick:this.props.newOnly,color:"primary"},"No"),r.a.createElement(Z.a,{onClick:this.props.backupAndNew,color:"primary",autoFocus:!0},"Yes")))}}]),a}(r.a.Component),ze=a(119),He=a.n(ze),Ye=a(221),Je=a(167),xe=a(222),Ke={container:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:"0.95rem"}},qe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).closeDialog=n.closeDialog.bind(Object(s.a)(n)),n.listCommands=n.listCommands.bind(Object(s.a)(n)),n}return Object(c.a)(a,[{key:"closeDialog",value:function(e){this.props.updateRawCommandField(e),this.props.onClose()}},{key:"listCommands",value:function(e){var t=this;return r.a.createElement(Je.a,{key:e.key,button:!0,onClick:function(){t.closeDialog(e.command)}},r.a.createElement(xe.a,{primary:e.command}),r.a.createElement(We.a,null))}},{key:"render",value:function(){return r.a.createElement(se.a,{fullScreen:!0,open:this.props.open,style:Ke.container},r.a.createElement(de.a,null,r.a.createElement(L.a,{onClick:this.props.onClose},r.a.createElement(He.a,null)),"Available Minecraft Commands"),r.a.createElement(me.a,null,r.a.createElement(Ye.a,{dense:!0},this.props.minecraftCommands?this.props.minecraftCommands.map(this.listCommands):r.a.createElement("div",null))),r.a.createElement(ue.a,null,r.a.createElement(Z.a,{onClick:this.props.onClose,color:"primary"},"Cancel")))}}]),a}(r.a.Component),Ge=a(169),$e=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.backup;return r.a.createElement("option",{value:e.fileName},e.worldName,": Taken ",e.date," at ",e.time)}}]),a}(r.a.Component),_e=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={backupValue:""},n}return Object(c.a)(a,[{key:"displayBackupItems",value:function(e){return r.a.createElement($e,{key:e.fileName,backup:e})}},{key:"render",value:function(){var e=this.props.potentialBackups;return r.a.createElement(se.a,{open:this.props.open},r.a.createElement(me.a,null,r.a.createElement(ve.a,null,r.a.createElement(ne.a,{native:!0,inputProps:{id:"backup"},value:this.state.backupValue},e.map(this.displayBackupItems))),r.a.createElement(Ge.a,null,"Choose a backup to restore")),r.a.createElement(ue.a,null,r.a.createElement(Z.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(Z.a,{onClick:this.props.onClose,color:"primary",autoFocus:!0},"Close")))}}]),a}(n.Component),Qe={container:{margin:10,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:"0.95rem"}},Xe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={backupDialogOpen:!1,commandOutput:"",helpDialogOpen:!1,potentialBackups:[],progressDialogOpen:!1,rawMinecraftCommandDialogOpen:!1,rawCommand:"",restoreDialogOpen:!1,restoreBackup:{}},n.backupAndNewMinecraftWorld=n.backupAndNewMinecraftWorld.bind(Object(s.a)(n)),n.backupAndRestoreMinecraftWorld=n.backupAndRestoreMinecraftWorld.bind(Object(s.a)(n)),n.backupMinecraftWorld=n.backupMinecraftWorld.bind(Object(s.a)(n)),n.closeBackupDialog=n.closeBackupDialog.bind(Object(s.a)(n)),n.closeProgressDialog=n.closeProgressDialog.bind(Object(s.a)(n)),n.closeRawCommandDialog=n.closeRawCommandDialog.bind(Object(s.a)(n)),n.closeRestoreDialog=n.closeRestoreDialog.bind(Object(s.a)(n)),n.getMinecraftWorldBackups=n.getMinecraftWorldBackups.bind(Object(s.a)(n)),n.newMinecraftWorld=n.newMinecraftWorld.bind(Object(s.a)(n)),n.onClearCommand=n.onClearCommand.bind(Object(s.a)(n)),n.onClearOutput=n.onClearOutput.bind(Object(s.a)(n)),n.onSendCommand=n.onSendCommand.bind(Object(s.a)(n)),n.openBackupBeforeNewDialog=n.openBackupBeforeNewDialog.bind(Object(s.a)(n)),n.openProgressDialog=n.openProgressDialog.bind(Object(s.a)(n)),n.openRawCommandDialog=n.openRawCommandDialog.bind(Object(s.a)(n)),n.openRestoreDialog=n.openRestoreDialog.bind(Object(s.a)(n)),n.restoreMinecraftWorld=n.restoreMinecraftWorld.bind(Object(s.a)(n)),n.updateRawCommandDialog=n.updateRawCommandDialog.bind(Object(s.a)(n)),n.updateRawCommandType=n.updateRawCommandType.bind(Object(s.a)(n)),n}return Object(c.a)(a,[{key:"backupAndNewMinecraftWorld",value:function(){this.backupMinecraftWorld(),this.newMinecraftWorld()}},{key:"backupAndRestoreMinecraftWorld",value:function(){this.backupMinecraftWorld(),this.restoreMinecraftWorld()}},{key:"backupMinecraftWorld",value:function(){var e=this;this.setState({backupDialogOpen:!1,progressDialogOpen:!0,restoreDialogOpen:!1}),d()({method:"post",url:"/api/backupWorld"}).then((function(){e.setState({progressDialogOpen:!1})}),(function(t){console.log("An error occurred contacting the Minecraft server.",t),e.setState({progressDialogOpen:!1})}))}},{key:"closeBackupDialog",value:function(){this.setState({backupDialogOpen:!1})}},{key:"closeProgressDialog",value:function(){this.setState({progressDialogOpen:!1})}},{key:"closeRawCommandDialog",value:function(){this.setState({rawMinecraftCommandDialogOpen:!1})}},{key:"closeRestoreDialog",value:function(e){e.filename?(this.setState({restoreBackup:e}),console.log("Would restore world: ",e),this.setState({restoreDialogOpen:!1}),this.restoreMinecraftWorld(e)):this.setState({restoreDialogOpen:!1})}},{key:"getMinecraftWorldBackups",value:function(){var e=this;d()({method:"get",url:"/api/listWorldBackups"}).then((function(t){var a=t.data.backupList;console.log("backupList response:",a),a.length?(e.setState({potentialBackups:a}),e.setState({restoreDialogOpen:!0})):(e.setState({potentialBackups:[{key:"nothingtoseehere",fileName:"nope",worldName:"",date:""}]}),console.log("An error occurred getting backups from the Minecraft server.",a))}),(function(t){console.log("An error occurred contacting the Minecraft server.",t),e.setState({restoreDialogOpen:!1})}))}},{key:"newMinecraftWorld",value:function(){var e=this;this.setState({backupDialogOpen:!1,progressDialogOpen:!0,restoreDialogOpen:!1}),d()({method:"post",url:"/api/newWorld",params:{backup:!1}}).then((function(){e.setState({progressDialogOpen:!1})}),(function(t){console.log("An error occurred contacting the Minecraft server.",t),e.setState({progressDialogOpen:!1})}))}},{key:"onClearCommand",value:function(){this.setState({rawCommand:""})}},{key:"onClearOutput",value:function(){this.setState({commandOutput:""})}},{key:"onSendCommand",value:function(){var e=this;this.state.rawCommand&&d()({method:"post",url:"/api/command",params:{command:this.state.rawCommand}}).then((function(t){var a=t.data.output;e.setState({rawCommand:""}),e.setState({commandOutput:a})}),(function(t){console.log("An error occurred contacting the Minecraft server.",t),e.setState({progressDialogOpen:!1})}))}},{key:"openBackupBeforeNewDialog",value:function(){this.setState({backupDialogOpen:!0,progressDialogOpen:!1,rawMinecraftCommandDialogOpen:!1})}},{key:"openProgressDialog",value:function(){this.setState({backupDialogOpen:!1,progressDialogOpen:!0,rawMinecraftCommandDialogOpen:!1})}},{key:"openRawCommandDialog",value:function(){this.setState({backupDialogOpen:!1,progressDialogOpen:!1,rawMinecraftCommandDialogOpen:!0})}},{key:"openRestoreDialog",value:function(){this.getMinecraftWorldBackups(),this.setState({backupDialogOpen:!1,progressDialogOpen:!1,rawMinecraftCommandDialogOpen:!1,restoreDialogOpen:!0})}},{key:"restoreMinecraftWorld",value:function(e){var t=this;this.setState({backupDialogOpen:!1,progressDialogOpen:!0,restoreDialogOpen:!1}),d()({method:"post",url:"/api/command",params:{command:"/restoreWorld",backupFile:e,backup:!1}}).then((function(){t.setState({backupDialogOpen:!1,progressDialogOpen:!1,restoreDialogOpen:!1}),t.setState({restoreBackup:{}})}),(function(e){console.log("An error occurred contacting the Minecraft server.",e),t.setState({restoreDialogOpen:!1})}))}},{key:"updateRawCommandType",value:function(e){"Enter"===e.key?this.onSendCommand():this.setState({rawCommand:e.target.value})}},{key:"updateRawCommandDialog",value:function(e){this.setState({rawCommand:e})}},{key:"render",value:function(){return r.a.createElement("div",{style:Qe.container},r.a.createElement(Le,{backupAndNew:this.backupAndNewMinecraftWorld,newOnly:this.newMinecraftWorld,cancelDialog:this.closeBackupDialog,open:this.state.backupDialogOpen}),r.a.createElement(fe,{open:this.state.progressDialogOpen,onClose:this.closeProgressDialog}),r.a.createElement(qe,{open:this.state.rawMinecraftCommandDialogOpen,onClose:this.closeRawCommandDialog,minecraftCommands:this.props.minecraftProperties.fullHelp,updateRawCommandField:this.updateRawCommandDialog}),r.a.createElement(_e,{open:this.state.restoreDialogOpen,onClose:this.closeRestoreDialog,potentialBackups:this.state.potentialBackups}),r.a.createElement(M.a,{variant:"subtitle1"},"World Controls"),r.a.createElement(y.a,null,r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:this.backupMinecraftWorld},r.a.createElement(Ae.a,null),"Backup World"),r.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:this.openRestoreDialog,disabled:!0},r.a.createElement(Ue.a,null),"Restore World"),r.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:this.openBackupBeforeNewDialog},r.a.createElement(Be.a,null),"New World"))))),r.a.createElement(M.a,{variant:"subtitle1"},"Send Minecraft Command"),r.a.createElement(ve.a,{fullWidth:!0},r.a.createElement(be.a,{htmlFor:"rawCommand"},"Enter command. Click the Help icon for a full list of supported commands."),r.a.createElement(ge.a,{id:"rawCommand",fullWidth:!0,value:this.state.rawCommand,onChange:this.updateRawCommandType,onKeyPress:this.updateRawCommandType}),r.a.createElement(We.a,null)),r.a.createElement(S.a,{title:"List available Minecraft commands"},r.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:this.openRawCommandDialog},r.a.createElement(Te.a,null))),r.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:this.onClearCommand},"Clear Command"),r.a.createElement(Z.a,{variant:"contained",color:"primary",disabled:!this.props.minecraftProperties.started&&""===!this.state.rawCommand,onClick:this.onSendCommand},"Send Command"),r.a.createElement(ve.a,{fullWidth:!0},r.a.createElement(Fe.a,{label:"Command Output",multiline:!0,rows:"6",margin:"normal",variant:"outlined",value:this.state.commandOutput})),r.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:this.onClearOutput},"Clear Output"))}}]),a}(r.a.Component),Ze=a(230),et=a(225);function tt(e){var t=Object(n.useState)(e.apiSettings),a=Object(Ee.a)(t,2),l=a[0],o=a[1];return r.a.createElement("div",null,r.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:function(){d()({method:"post",url:"/api/saveApiPreferences",params:{settings:JSON.stringify(l)}},(function(e){console.log("An error occurred contacting the Minecraft server.",e)}))}},r.a.createElement(Ce.a,null),"Save"),r.a.createElement(y.a,{size:"small"},r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(ve.a,{fullWidth:!0},r.a.createElement(et.a,{control:r.a.createElement(Ze.a,{checked:l.autoStartMinecraft,onChange:function(e,t){var a=Object.assign({},l),n={autoStartMinecraft:t};n=Object.assign(a,n),o(n)}}),label:"Auto-start Minecraft with this website?"})))),r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(ve.a,{fullWidth:!0},r.a.createElement(be.a,{htmlFor:"{ ipAddress }"},"The IP address to listen on."),r.a.createElement(ge.a,{id:"ipAddress",value:l.ipAddress,fullWidth:!0})))),r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(ve.a,{fullWidth:!0},r.a.createElement(be.a,{htmlFor:"{ ipPort }"},"The IP port to listen on."),r.a.createElement(ge.a,{id:"ipPort",value:l.ipPort,fullWidth:!0})))))))}var at=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.minecraftProperties,t=Math.pow(1024,3),a=e.nodeInfo?e.nodeInfo.mem/t:"Unknown";return r.a.createElement("div",null,r.a.createElement(y.a,null,r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"h6"},r.a.createElement("a",{href:e.eulaUrl,target:"_blank",rel:"noopener noreferrer"},"Minecraft End User License Agreement")))))),r.a.createElement(y.a,{size:"small"},r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"Project Owner")),r.a.createElement(O.a,null,r.a.createElement(M.a,null,"nickrnet"))),r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"Contributors")),r.a.createElement(O.a,null,r.a.createElement(M.a,null,"DevBonBon"))))),r.a.createElement("p",null),r.a.createElement(y.a,{size:"small"},r.a.createElement(T.a,null,r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"System Information")),r.a.createElement(O.a,null," "),r.a.createElement(O.a,null," "))),r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"CPU")),r.a.createElement(O.a,null,r.a.createElement(M.a,null,e.nodeInfo?e.nodeInfo.cpus[0].model+", "+e.nodeInfo.cpus.length+" cores":"Unknown")),r.a.createElement(O.a,null,r.a.createElement(S.a,{title:"Logical CPUs, both physical and virtual"},r.a.createElement(Te.a,null)))),r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"RAM")),r.a.createElement(O.a,null,r.a.createElement(M.a,null,a," GB")),r.a.createElement(O.a,null," ")),r.a.createElement(C.a,null,r.a.createElement(O.a,null,r.a.createElement(M.a,{variant:"subtitle2"},"NodeJS Version")),r.a.createElement(O.a,null,r.a.createElement(M.a,null,e.nodeInfo?e.nodeInfo.version:"Unknown")),r.a.createElement(O.a,null," ")))))}}]),a}(r.a.Component),nt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={debug:!1,ipInfo:{},apiSettings:{},minecraftStatus:{},minecraftStatusMessage:"",eulaOpen:!1,minecraftProperties:{},playerInfo:{},value:0},n.handleAcceptEula=n.handleAcceptEula.bind(Object(s.a)(n)),n.handleDeclineEula=n.handleDeclineEula.bind(Object(s.a)(n)),n.getIpInfo=n.getIpInfo.bind(Object(s.a)(n)),n.getMinecraftServerProperties=n.getMinecraftServerProperties.bind(Object(s.a)(n)),n.getMinecraftStatus=n.getMinecraftStatus.bind(Object(s.a)(n)),n.startMinecraftStatus=n.startMinecraftStatus.bind(Object(s.a)(n)),n.stopMinecraftStatus=n.stopMinecraftStatus.bind(Object(s.a)(n)),n.handleChange=n.handleChange.bind(Object(s.a)(n)),n.stopMinecraftStatus=n.stopMinecraftStatus.bind(Object(s.a)(n)),n.startMinecraftStatus(),n}return Object(c.a)(a,[{key:"getTheme",value:function(){return Object(f.a)({tableRowColumn:{height:60},container:{margin:10,fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:"0.95rem"},overrides:{MuiButton:{root:{margin:"10px"}}}})}},{key:"componentWillUnmount",value:function(){this.stopMinecraftStatus()}},{key:"handleChange",value:function(e,t){this.setState({value:t})}},{key:"getIpInfo",value:function(){var e,t=this;d()("/api/ipInfo").then((function(a){e=a.data,t.setState({ipInfo:e})}))}},{key:"getMinecraftStatus",value:function(e){var t,a=this,n="";t=e?e<1e3?e:e>12e4?5e3:e:5e3,this.statusTimerId&&clearTimeout(this.statusTimerId),this.statusTimerId=setTimeout((function(){d()("/api/status").then((function(e){var t=e.data.apiSettings,r=e.data.minecraftProperties;a.setState({apiSettings:t}),a.setState({minecraftProperties:r}),r.settings.javaHome&&r.settings.javaPath?r.started?r.acceptedEula||(n="The Minecraft EULA needs to be accepted."):n="Minecraft is not running.":n="Java is not properly installed.",a.setState({minecraftStatusMessage:n}),a.getMinecraftStatus()}),(function(e){a.setState({minecraftStatus:{}}),t+=5e3,a.getMinecraftStatus(t)}))}),t)}},{key:"getMinecraftServerProperties",value:function(){var e=this;d()("/api/properties").then((function(t){var a=t.data;a=a.properties,e.setState({minecraftServerProperties:a})}),(function(e){console.log("An error occurred contacting the Minecraft server.",e)})).catch((function(e){console.log("An error occurred getting the server properties:",e)}))}},{key:"handleAcceptEula",value:function(){var e=this;d()({method:"post",url:"/api/acceptEula"}).then((function(){e.setState({eulaOpen:!1})}),(function(t){console.log("error:",t),e.setState({eulaOpen:!1})})).catch((function(t){console.log("error:",t),e.setState({eulaOpen:!1})}))}},{key:"handleDeclineEula",value:function(){var e=this;d()({method:"post",url:"/api/stop"}).then((function(){e.setState({eulaOpen:!1})}),(function(t){console.log("error:",t),e.setState({eulaOpen:!1})})).catch((function(t){console.log("error:",t),e.setState({eulaOpen:!1})}))}},{key:"runOnce",value:function(){this.getIpInfo(),this.getMinecraftServerProperties()}},{key:"startMinecraftStatus",value:function(){this.runOnce(),this.getMinecraftStatus(25)}},{key:"stopMinecraftStatus",value:function(){this.statusTimerId&&clearTimeout(this.statusTimerId),this.playersTimerId&&clearTimeout(this.playersTimerId)}},{key:"render",value:function(){var e=this.state.minecraftProperties;return r.a.createElement(h.a,{theme:this.getTheme()},r.a.createElement(g.a,{position:"static"},r.a.createElement(E.a,{value:this.state.value,onChange:this.handleChange,centered:!0},r.a.createElement(v.a,{label:"Dashboard"}),r.a.createElement(v.a,{label:"Players"}),r.a.createElement(v.a,{label:"World Controls"}),r.a.createElement(v.a,{label:"Server Controls"}),r.a.createElement(v.a,{label:"Preferences"}),r.a.createElement(v.a,{label:"About"}))),0===this.state.value&&r.a.createElement(F,{ipInfo:this.state.ipInfo,minecraftProperties:e}),1===this.state.value&&r.a.createElement(Q,{minecraftProperties:e}),2===this.state.value&&r.a.createElement(Xe,{minecraftProperties:e,startMinecraftStatus:this.startMinecraftStatus,stopMinecraftStatus:this.stopMinecraftStatus}),3===this.state.value&&r.a.createElement(we,{minecraftProperties:e,startMinecraftStatus:this.startMinecraftStatus,stopMinecraftStatus:this.stopMinecraftStatus}),4===this.state.value&&r.a.createElement(tt,{apiSettings:this.state.apiSettings}),5===this.state.value&&r.a.createElement(at,{minecraftProperties:e}),r.a.createElement(b.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:!e.started,message:this.state.minecraftStatusMessage}))}}]),a}(r.a.Component),rt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function lt(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(nt,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");rt?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):lt(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):lt(e)}))}}()}},[[135,1,2]]]);
//# sourceMappingURL=main.4315eae6.chunk.js.map